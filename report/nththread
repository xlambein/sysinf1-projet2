
for [i = 0; i*i < aFact; i++] do
    if (aFact % i) == 0 then
        lock mut_aFact
        if (aFact % i) == 0 then
            push i to heap
            aFact /= i
        endif
        unlock mut_aFact
    endif
end
